var app=angular.module("showMe",["firebase"]);app.FIREBASE="https://eysteinbye.firebaseio.com/showme",app.factory("firebaseAuth",function(a){"use strict";var b={broadcastAuthEvent:function(){a.$broadcast("authEvent")},loginTw:function(){this.client.login("twitter")},loginFb:function(){this.client.login("facebook")},logout:function(){this.client.logout()}};return b.client=new FirebaseAuthClient(new Firebase(app.FIREBASE),function(a,c){c?(b.user=c,b.broadcastAuthEvent()):(b.user=null,b.broadcastAuthEvent())}),b}),app.factory("firebaseService",function(a,b){"use strict";var c;return{init:function(d,e){d.safeApply=function(a){var b=this.$root.$$phase;"$apply"===b||"$digest"===b?a&&"function"==typeof a&&a():this.$apply(a)},d.$on("authEvent",function(){d.safeApply(function(){d.user=b.user})}),c=new Firebase(app.FIREBASE),a(c,d,e)},newId:function(){return c.push().name()}}});var SaveController=function(a,b,c){"use strict";a.products=[],a.item={},b.init(a,"products"),a.saveProduct=function(){{var b=a.getActiveProduct();a.getIndexOfElementById(b.id)}void 0===b.id?a.addProduct():a.editProduct()},a.addProduct=function(){var c=a.getActiveProduct(),d=b.newId();c.id=d,a.item.id=d,a.products.push(c)},a.editProduct=function(){var b=a.getActiveProduct(),c=a.getIndexOfElementById(b.id);a.products[c]=b},a.getActiveProduct=function(){return{id:a.item.id,addedBy:a.user.name,product:a.item.product,startTime:a.item.startTime,showId:a.item.showId,code:a.item.code,codeType:a.item.codeType,imageUrl:a.item.imageUrl,desc:a.item.desc}},a.clear=function(){a.item={}},a.removeProduct=function(b){if(null!==b&&void 0!==b){var c=a.getIndexOfElementById(b.id);a.products.splice(c,1),a.clear()}},a.getIndexOfElementById=function(b){var c;for(c=0;c<a.products.length;c+=1)if(a.products[c].id===b)return c;return-1},a.loginFacebook=function(){c.loginFb()},a.loginTwitter=function(){c.loginTw()},a.logout=function(){c.logout()}};